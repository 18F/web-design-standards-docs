{% assign componentName = page.title | downcase %}
{% assign componentKey = componentName | slugify %}
{% assign settingsKey = componentKey %}
{% assign _level = include.level | default: "h2" %}

{% if page.parent %}
  {% assign componentKey = page.parent | slugify %}
  {% assign settingsKey = componentKey %}
  {% if page.component.variant %}
    {% assign componentKey = componentKey
      | append: "--"
      | append: page.component.variant %}
  {% endif %}
{% endif %}

{% if page.component.image %}
<div class="preview">
  <a
    class="media_link"
    href={% include component-preview-link.html component=componentKey %}
  >
    <img
      src="{{ site.baseurl }}/assets/img/headers/{{ componentKey }}.png"
      alt={{ page.title }}
    />
  </a>
  <a
    class="usa-button"
    href={% include component-preview-link.html component=componentKey %}
    >Demo {{ page.title }}</a
  >
</div>
{% else %}
{% include code/preview.html component=componentKey level=_level %}
{% endif %}

{% include code/accordion.html component=componentKey level=_level %}
